{"version":3,"sources":["utils/api.js","components/Header.js","images/logo/Vector.png","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ProtectedRoute.js","utils/auth.js","images/success-icon.svg","images/error-icon.svg","components/InfoTooltip.js","components/Login.js","components/Register.js","components/App.js","reportWebVitals.js","index.js"],"names":["onResultQuery","res","ok","json","Promise","reject","status","api","url","headers","this","_url","_headers","fetch","then","data","method","body","JSON","stringify","cardId","state","link","authorization","Header","userEmail","onSignOut","location","useLocation","className","src","alt","pathname","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwner","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","name","length","Main","props","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","handleCardClick","handleDeleteClick","Footer","Date","getFullYear","ImagePopup","aria-label","onClose","PopupWithForm","isOpen","title","onSubmit","noValidate","children","textBtn","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","autoComplete","placeholder","required","value","onChange","evt","target","EditAvatarPopup","onUpdateAvatar","urlRef","useRef","current","defaultValue","ref","AddPlacePopup","setLink","ConfirmDeletePopup","idCard","ProtectedRoute","Component","component","loggedIn","auth","baseUrl","password","email","_checkResponse","token","InfoTooltip","isInfoTooltip","success","error","Login","onLogin","setEmail","setPassword","formNoValidate","Register","onRegister","App","setCurrentUser","setCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","selectedDelCard","setSelectedDelCard","setLoggedIn","setUserEmail","isAuthReqSusses","setAuthReqSusse","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","handleUserData","localStorage","getItem","getContent","push","catch","showErrorApi","tokenCheck","err","console","getUserInfoServ","getCardList","closeAllPopups","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","signup","signin","setItem","removeCard","filter","updateAvatar","newData","saveUserInfoServ","saveNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6536c868.chunk.js","sourcesContent":["\tconst onResultQuery = res => {\n\t\tif (res.ok) {\n\t\treturn res.json();\n\t\t}\n\t\treturn Promise.reject(`Ошибка: ${res.status}`);\n\t}\n\n\tclass Api {\n\tconstructor({ url, headers }) {\n\t\tthis._url = url;\n\t\tthis._headers = headers;\n\t}\n\n\tgetUserInfoServ() {\n\t\treturn fetch(`${this._url}users/me`, {\n\t\theaders: this._headers\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\n\tsaveUserInfoServ(data) {\n\t\treturn fetch(`${this._url}users/me`, {\n\t\tmethod: 'PATCH',\n\t\theaders: this._headers,\n\t\tbody: JSON.stringify(data)\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\n\tgetCardList() {\n\t\treturn fetch(`${this._url}cards`, {\n\t\theaders: this._headers\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\n\tsaveNewCard(data) {\n\t\treturn fetch(`${this._url}cards`, {\n\t\tmethod: 'POST',\n\t\theaders: this._headers,\n\t\tbody: JSON.stringify(data)\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\n\tremoveCard(cardId) {\n\t\treturn fetch(`${this._url}cards/${cardId}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: this._headers,\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\n\tchangeLikeCardStatus(cardId, state) {\n\t\treturn fetch(`${this._url}cards/likes/${cardId}`, {\n\t\tmethod: state ? 'PUT' : 'DELETE',\n\t\theaders: this._headers,\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\n\tupdateAvatar(link) {\n\t\treturn fetch(`${this._url}users/me/avatar`, {\n\t\tmethod: 'PATCH',\n\t\theaders: this._headers,\n\t\tbody: JSON.stringify(link)\n\t\t})\n\t\t.then(onResultQuery)\n\t}\n\t}\n\n\tconst apiConfig = {\n\t\turl: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n\t\theaders: {\n\t\t\tauthorization: '4707d041-e92a-46fe-bfe7-19e26cb8b84c',\n\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t}\n\t\t\n\t\tconst api = new Api(apiConfig);\n\t\texport default api;","import React from 'react';\nimport Logo from '../images/logo/Vector.png';\nimport { Link, useLocation } from 'react-router-dom';\n\n\nconst Header = ({userEmail, onSignOut}) => {\n\n\tconst location = useLocation();\n\n\treturn (\n\t\t<header className=\"header page__header\">\n\t\t\t<img className=\"logo\" src={Logo} alt=\"логотип Mesto России\"/>\n\t\t\t<div className=\"header__links\">\n\t\t\t\t<p className=\"header__link header__link_email\">\n\t\t\t\t\t{\n\t\t\t\t\t\tlocation.pathname === \"/\" ? userEmail : \"\"\n\t\t\t\t\t}\n\t\t\t\t\t</p>\n\t\t\t\t<Link to={\n\t\t\t\t\tlocation.pathname === \"/sign-up\" ? \"/sign-in\" : location.pathname === \"/sign-in\" ? \"/sign-up\" : \"/sign-in\"\n\t\t\t\t}\n\t\t\t\tclassName=\"header__link header__link_logout\" onClick={onSignOut}>\n\t\t\t\t\t{\n\t\t\t\t\tlocation.pathname === \"/sign-up\" ? \"Войти\" : location.pathname === \"/sign-in\" ? \"Регистрация\" : \"Выйти\"\n\t\t\t\t\t}\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n\nexport default Header\n\n","export default \"data:image/png;base64,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\"","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\n\n   const currentUser = React.useContext(CurrentUserContext);\n\n   const handleClick = () => {\n      onCardClick({\n         link: card.link,\n         name: card.name,\n      })\n   }\n\n   const handleLikeClick = () => {\n      onCardLike(card)\n   }\n\n   const handleDeleteClick = () => {\n      onCardDelete(card._id)\n   }\n\n   const isOwner = card.owner._id === currentUser._id;\n   const cardDeleteButtonClassName = (`element__delete ${!isOwner && 'element__delete_disable'}`);\n\n   const isLiked = card.likes.some(item => item._id === currentUser._id);\n   const cardLikeButtonClassName = (`element__like ${isLiked && 'element__like_button_active'}`);\n\n   return(\n\t\t<section className=\"element-template\">\n\t\t\t<li className=\"element\">\n\t\t\t\t<button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\n\t\t\t\t<img className=\"element__image\" src={card.link} onClick={handleClick} alt=\"Фото в ленте mesto\"/>\n\t\t\t\t<div className=\"element__block\">\n\t\t\t\t\t<h2 className=\"element__title\">{card.name}</h2>\n\t\t\t\t\t<div className=\"element__wrap_like\">\n\t\t\t\t\t\t<button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n\t\t\t\t\t\t<div className=\"element__like_count\">{card.likes.length}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</section>\n\t);\n}\n\nexport default Card;","import React, { useContext } from 'react';\nimport Card from \"./Card\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n\tconst currentUser = useContext(CurrentUserContext);\n\n\treturn (\n\t\t<main className=\"content page__content\">\n\t\t\t<section className=\"profile\">\n\t\t\t\t<div className=\"profile__list\">\n\t\t\t\t\t<div className=\"profile__overlay\" onClick={props.onEditAvatar}>\n\t\t\t\t\t\t<img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Изображение профиля\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"profile__info\">\n\t\t\t\t\t\t<h1 className=\"profile__title\">{currentUser.name}</h1>\n\t\t\t\t\t\t<button className=\"profile__button profile__button_open_edit\" type=\"button\" onClick={props.onEditProfile}></button>\n\t\t\t\t\t\t<p className=\"profile__subtitle\">{currentUser.about}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"profile__add\">\n\t\t\t\t\t\t<button className=\"profile__button profile__button_open_add\" type=\"button\" onClick={props.onAddPlace}></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className=\"elements\">\n\t\t\t\t<ul className=\"elements__contener\">\n\t\t\t\t\t{props.cards.map(item =>\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\tcard={item}\n\t\t\t\t\t\t\tonCardClick={props.handleCardClick}\n\t\t\t\t\t\t\tonCardLike={props.onCardLike}\n\t\t\t\t\t\t\tonCardDelete={props.handleDeleteClick}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t</main>\n\t);\n}\n\nexport default Main;","export default function Footer() {\n\treturn (\n\t\t<footer className=\"footer page__footer\">\n\t\t\t<p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n\t\t</footer>\n\t);\n}","function ImagePopup(props) {\n\n\treturn (\n\t\t<div className={`popup popup_type_image ${props.card.link && 'popup__open'}`}>\n\t\t\t<figure className=\"popup__container popup__container_image\">\n\t\t\t\t<button className=\"popup__close popup__close_image\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n\t\t\t\t<img className=\"popup__img\" src={props.card.link} alt={`Изображение места: ${props.card.name}`}/>\n\t\t\t\t<figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n\t\t\t</figure>\n\t\t</div>\n\t);\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n\treturn(\n\t\t<div className={`popup popup_type_${props.name} ${props.isOpen && 'popup__open'}`}>\n\t\t<div className=\"popup__container\">\n\t\t\t<button className=\"popup__close popup__close_edit\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n\t\t\t<h2 className=\"popup__title\">{props.title}</h2>\n\t\t\t<form className={`popup__form popup__form_${props.name}`} onSubmit={props.onSubmit} noValidate>\n\t\t\t\t{props.children}\n\t\t\t\t<button className=\"popup__save\" type=\"submit\">{props.textBtn}</button>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t);\n}\n\nexport default PopupWithForm;","import React, { useState, useEffect, useContext} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser}) {\n\n\tconst currentUser = useContext(CurrentUserContext);\n\n\tconst [name, setName] = useState('');\n\tconst [description, setDescription] = useState('');\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tonUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t}\n\n\tconst handleChangeName = (evt) => {\n\t\tsetName(evt.target.value);\n\t}\n\n\tconst handleChangeDescription = (evt) => {\n\t\tsetDescription(evt.target.value);\n\t}\n\n\tuseEffect(() => {\n\t\tsetName(currentUser.name);\n\t\tsetDescription(currentUser.about);\n\t}, [currentUser]);\n\n\treturn (\n\t\t<PopupWithForm\n               title=\"Редактировать профиль\"\n               name={\"edit\"}\n\t\t\t\t\ttextBtn=\"Сохранить\"\n               isOpen={isOpen}\n               onClose={onClose}\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t>\t\n\t\t\t\t\t<input className=\"popup__input popup__input_edit_name\" \n\t\t\t\t\t\tid='name-input' \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tminLength=\"2\"\n\t\t\t\t\t\tmaxLength=\"40\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tplaceholder=\"Имя\"\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={name || ''}\n\t\t\t\t\t\tonChange={handleChangeName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t<span className='popup__error' id='name-input-error'></span>\n\t\t\t\t\t<input className=\"popup__input popup__input_edit_job\" \n\t\t\t\t\t\tid='job-input'\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tminLength=\"2\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tname=\"about\"\n\t\t\t\t\t\tplaceholder=\"О себе\"\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={description || ''}\n\t\t\t\t\t\tonChange={handleChangeDescription}\n\t\t\t\t\t\t/>\n\t\t\t\t\t<span className='popup__error' id='job-input-error'></span>\n\t\t\t\t</PopupWithForm>\n\t)\n}\n\nexport default EditProfilePopup;","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n\tconst urlRef = useRef();\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tonUpdateAvatar({avatar: urlRef.current.value});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\ttitle=\"Обновить аватар\"\n\t\t\tname={\"avatar\"}\n\t\t\ttextBtn=\"Сохранить\"\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\n\t\t\t<input className=\"popup__input popup__input_edit_name popup__input_avatar\"\n\t\t\t\tname=\"avatar\"\n\t\t\t\ttype=\"url\"\n\t\t\t\tplaceholder=\"Ссылка на картинку\"\n\t\t\t\trequired\n\t\t\t\tid=\"url-avatar\"\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdefaultValue=\"\"\n\t\t\t\tref={urlRef}\n\t\t\t\t/>\n\t\t\t<span className=\"popup__error\" id=\"url-avatar-error\"></span>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default EditAvatarPopup;","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst AddPlacePopup = ({isOpen, onClose, onAddPlace}) => {\n\n\tconst [name, setName] = useState('');\n\tconst [link, setLink] = useState('');\n\n\tconst handleChangeName = (evt) => {\n\t\tsetName(evt.target.value);\n\t}\n\n\tconst handleChangeLink = (evt) => {\n\t\tsetLink(evt.target.value);\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tonAddPlace({\n\t\t\tname,\n\t\t\tlink\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\ttitle=\"Новое место\"\n         name={\"add\"}\n         textBtn=\"Создать\"\n         isOpen={isOpen}\n         onClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\n\t\t\t<input className=\"popup__input popup__input_edit_name popup__input_img_name\" \n\t\t\t\tid='name-img'  \n\t\t\t\tplaceholder=\"Название\" \n\t\t\t\ttype=\"text\" \n\t\t\t\tname=\"name\"  \n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"30\"\n\t\t\t\tnoValidate \n\t\t\t\trequired\n\t\t\t\tvalue={name || ''}\n\t\t\t\tonChange={handleChangeName}\n\t\t\t\t/>\n\t\t\t<span className='popup__error' id='name-img-error'></span>\n\t\t\t<input className=\"popup__input popup__input_img_link\" \n\t\t\t\tid='img-link' \n\t\t\t\tplaceholder=\"Ссылка на картинку\" \n\t\t\t\ttype=\"url\" \n\t\t\t\tname=\"link\" \n\t\t\t\tnoValidate\n\t\t\t\tvalue={link || ''}\n\t\t\t\trequired\n\t\t\t\tonChange={handleChangeLink}\n\t\t\t\t/>\n\t\t\t<span className='popup__error' id='img-link-error'></span>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default AddPlacePopup;","import PopupWithForm from './PopupWithForm';\n\nfunction ConfirmDeletePopup({isOpen, onClose, onCardDelete, idCard}) {\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tonCardDelete(idCard);\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\ttitle=\"Вы уверены?\"\n\t\t\tname={\"delete_card\"}\n\t\t\ttextBtn=\"Да\"\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t></PopupWithForm>\n\t)\n}\n\nexport default ConfirmDeletePopup;","import { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n\t\treturn (\n\t\t\t<Route>\n\t\t\t{() =>\n\t\t\t\tprops.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n\t\t\t}\n\t\t\t</Route>\n\t\t);\n\t};\n\t\n\texport default ProtectedRoute; ","class Auth {\n\tconstructor(baseUrl) {\n\t\tthis._url = baseUrl;\n\t}\n\n\t_checkResponse(res) {\n\t\tif (res.ok) {\n\t\t\treturn res.json();\n\t\t}\n\t\treturn Promise.reject(`Ошибка ${res.status}`);\n\t}\n\n\tsignin(password, email) {\n\t\treturn fetch(`${this._url}/signin`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\"password\": password,\n\t\t\t\t\t\"email\": email\n\t\t\t})\n\t\t})\n\t\t.then(res => this._checkResponse(res))\n\t}\n\n\tsignup(password, email) {\n\t\treturn fetch(`${this._url}/signup`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"password\": password,\n\t\t\t\t\"email\": email\n\t\t\t})\n\t\t})\n\t\t.then(res => this._checkResponse(res))\n\t};\n\n\tgetContent(token) {\n\t\treturn fetch(`${this._url}/users/me`, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Bearer ${token}`\n\t\t\t}\n\t\t})\n\t\t.then(res => this._checkResponse(res))\n\t}\n}\n\nconst auth = new Auth('https://auth.nomoreparties.co');\nexport default auth;","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error-icon.df8eddf6.svg\";","import success from '../images/success-icon.svg';\nimport error from '../images/error-icon.svg';\n\nfunction InfoTooltip({status, onClose, isOpen}) {\n\n\tconst isInfoTooltip = isOpen ? 'popup__open' : true;\n\n   return(\n      <div className={`popup ${isInfoTooltip}`}>\n            <div className=\"infotooltip\">\n               <img className=\"infotooltip__img\" src={status ? success : error} alt={status ? \"Успех\" : \"Неудача\"}/>\n               <p className=\"infotooltip__text\">{status ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\" }</p>\n               <button className=\"infotooltip__button infotooltip__button_type_close\" type=\"button\" aria-label=\"Закрыть\" onClick={onClose}/>\n            </div>\n      </div>\n   );\n};\n\nexport default InfoTooltip;","import { useState } from 'react';\n\nconst Login = ({onLogin}) => {\n\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n\n   const handleSubmit = (e) => {\n      e.preventDefault();\n      onLogin(email, password);\n   }\n\n   const handleEmailChange = (e) => {\n      setEmail(e.target.value);\n   }\n\n   const handlePasswordChange = (e) => {\n      setPassword(e.target.value);\n   }\n\n\treturn(\n\t\t\t<form className=\"register\" onSubmit={handleSubmit}>\n\t\t\t\t<p className=\"register__title\">Вход</p>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"register__input\" \n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tonChange={handleEmailChange}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength='5'\n\t\t\t\t\tmaxLength='40'\n\t\t\t\t\tformNoValidate\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"register__input\" \n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Пароль\"\n\t\t\t\t\tonChange={handlePasswordChange}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength='5'\n\t\t\t\t\tmaxLength='40'\n\t\t\t\t\tformNoValidate\n\t\t\t\t/>\n\t\t\t\t<button className=\"register__button\" type=\"submit\">Войти</button>\n\t\t\t</form>\n\t)\n}\n\nexport default Login;\n","import { Link } from 'react-router-dom';\nimport { useState } from 'react';\n\n\nconst Register = ({onRegister}) => {\n\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n\n   const handleSubmit = (e) => {\n      e.preventDefault();\n      onRegister(email, password);\n   }\n\n   const handleEmailChange = (e) => {\n      setEmail(e.target.value);\n   }\n\n   const handlePasswordChange = (e) => {\n      setPassword(e.target.value);\n   }\n\n\n\treturn(\n\t\t<form className=\"register\" onSubmit={handleSubmit}>\n\t\t\t<p className=\"register__title\">Регистрация</p>\n\t\t\t<input\n\t\t\t\tclassName=\"register__input\" \n\t\t\t\ttype=\"email\"\n\t\t\t\tplaceholder=\"Email\"\n\t\t\t\tonChange={handleEmailChange}\n\t\t\t\trequired\n\t\t\t\tminLength='5'\n\t\t\t\tmaxLength='40'\n\t\t\t\tformNoValidate\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tclassName=\"register__input\" \n\t\t\t\ttype=\"password\"\n\t\t\t\tplaceholder=\"Пароль\"\n\t\t\t\tonChange={handlePasswordChange}\n\t\t\t\trequired\n\t\t\t\tminLength='5'\n\t\t\t\tmaxLength='40'\n\t\t\t\tformNoValidate\n\t\t\t/>\n\t\t\t<button className=\"register__button\" type=\"submit\">Зарегистрироваться</button>\n\t\t\t<div className=\"register__text\">\n            Уже зарегистрированы?\n            <Link to=\"/sign-in\" className=\"register__text\"> Войти</Link>\n\t\t\t</div>\n\t\t</form>\n)\n}\n\nexport default Register;","import React, { useState, useEffect } from 'react';\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport api from '../utils/api';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport auth from '../utils/auth';\nimport InfoTooltip from './InfoTooltip';\nimport Login from './Login';\nimport Register from './Register';\n\nfunction App() {\n\n\tconst [currentUser, setCurrentUser] = useState({});\n\tconst [cards, setCards] = useState([]);\n\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\tconst [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n\tconst [selectedCard, setSelectedCard] = useState({});\n\tconst [selectedDelCard, setSelectedDelCard] = useState('');\n\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\tconst [userEmail, setUserEmail] = useState('');\n\tconst [isAuthReqSusses, setAuthReqSusse] = useState(false);\n\tconst [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\tconst history = useHistory();\n\n\tconst handleRegister = (email, password) => {\n\t\tauth.signup(password, email)\n\t\t\t.then((res) => {\n\t\t\t\tsetIsInfoTooltipOpen(true);\n\t\t\t\tsetAuthReqSusse(true);\n\t\t\t\thistory.push('/sign-in');\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tsetIsInfoTooltipOpen(true);\n\t\t\t\tsetAuthReqSusse(false);\n\t\t\t})\n\t}\n\n\tconst handleLogin = (email, password) => {\n\t\tauth.signin(password, email)\n\t\t\t.then((res) => {\n\t\t\t\tsetLoggedIn(true);\n\t\t\t\tsetUserEmail(email);\n\t\t\t\tlocalStorage.setItem('jwt', res.token);\n\t\t\t\thistory.push('/'); \n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tsetIsInfoTooltipOpen(true);\n\t\t\t\tsetAuthReqSusse(false);\n\t\t\t})\n\t}\n\n\tconst handleSignOut = () => {\n\t\tif (loggedIn === true) {\n\t\t\tlocalStorage.removeItem('jwt');\n\t\t\thistory.push('/sign-in');\n\t\t}\n\t}\n\t\n\tconst tokenCheck = () => {\n\t\tif (localStorage.getItem('jwt')) {\n\t\t\tconst token = localStorage.getItem('jwt');\n\t\t\tif (token) {\n\t\t\t\tauth.getContent(token)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\tsetUserEmail(res.data.email);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsetLoggedIn(true);\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t})\n\t\t\t\t.catch(showErrorApi)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleCardClick = (data) => {\n\t\tsetSelectedCard(data);\n\t}\n\n\tconst handleDeleteClick = (cardId) => {\n\t\tsetIsConfirmPopupOpen(!isConfirmPopupOpen);\n\t\tsetSelectedDelCard(cardId)\n\t}\n\n\tconst handleEditAvatarClick = () => {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t}\n\n\tconst handleEditProfileClick = () => {\n\t\tsetIsEditProfilePopupOpen(true);\n\t}\n\n\tconst handleAddPlaceClick = () => {\n\t\tsetIsAddPlacePopupOpen(true);\n\t}\n\n\tuseEffect(() => {\n\t\thandleUserData();\n\t}, [])\n\n\tuseEffect(() => {\n\t\ttokenCheck()\n\t}, []);\n\n\tconst showErrorApi = err => {\n\t\tconsole.error(err);\n\t\t};\n\n\tconst handleUserData = () => {\n\t\tapi\n\t\t\t.getUserInfoServ()\n\t\t\t.then(data => {\n\t\t\tsetCurrentUser(data)\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}\n\n\tuseEffect(() => {\n\t\tapi\n\t\t\t.getCardList()\n\t\t\t.then(data => {\n\t\t\tsetCards(data)\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}, [])\n\n\tconst handleUpdateUser = (data) => {\n\t\tapi\n\t\t\t.saveUserInfoServ(data)\n\t\t\t.then(newData => {\n\t\t\tsetCurrentUser(newData)\n\t\t\tcloseAllPopups()\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}\n\n\tconst handleUpdateAvatar = (link) => {\n\t\tapi\n\t\t\t.updateAvatar(link)\n\t\t\t.then(newData => {\n\t\t\tsetCurrentUser(newData)\n\t\t\tcloseAllPopups()\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}\n\n\tconst handleCardLike = (card) => {\n\t\tconst isLiked = card.likes.some(item => item._id === currentUser._id);\n\t\tapi\n\t\t\t.changeLikeCardStatus(card._id, !isLiked)\n\t\t\t.then(newCard => {\n\t\t\tsetCards(state => state.map(item => item._id === card._id ? newCard : item))\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}\n\n\tconst handleAddPlaceSubmit = (card) => {\n\t\tapi\n\t\t\t.saveNewCard(card)\n\t\t\t.then(newCard => {\n\t\t\tsetCards([newCard, ...cards])\n\t\t\tcloseAllPopups()\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}\n\n\tconst handleCardDelete = (cardId) => {\n\t\tapi\n\t\t\t.removeCard(cardId)\n\t\t\t.then(res => {\n\t\t\tres && setCards(cards => cards.filter(item => item._id !== cardId))\n\t\t\tcloseAllPopups()\n\t\t\t})\n\t\t\t.catch(showErrorApi)\n\t}\n\n\tconst closeAllPopups = () => {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsConfirmPopupOpen(false);\n\t\tsetSelectedCard({});\n\t\tsetSelectedDelCard('');\n\t\tsetIsInfoTooltipOpen(false);\n\t}\n\n\n\treturn (\n\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t<div className=\"page\">\n\t\t\t\t<div className=\"page__container\">\n\n\t\t\t\t\t\t<Header \n                     userEmail={userEmail}\n                     onSignOut={handleSignOut}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Switch>\n\n\t\t\t\t\t\t\t<ProtectedRoute\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\t\tcomponent={Main}\n\t\t\t\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\t\t\t\tcards={cards}\n\t\t\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\t\t\t\thandleDeleteClick={handleDeleteClick}\n\t\t\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\t\t\t\thandleCardClick={handleCardClick}>\n\t\t\t\t\t\t\t</ProtectedRoute>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/sign-up\">\n\t\t\t\t\t\t\t\t\t<Register \n\t\t\t\t\t\t\t\t\t\tonRegister={handleRegister}/>\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath=\"/sign-in\">\n\t\t\t\t\t\t\t\t\t<Login \n\t\t\t\t\t\t\t\t\t\tonLogin={handleLogin}/>\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route>\n\t\t\t\t\t\t\t\t{loggedIn \n                           ? (<Redirect to=\"/\"/>)\n                           : (<Redirect to=\"/sign-in\"/>)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t</Switch>\n\n\t\t\t\t\t\t<ConfirmDeletePopup\n\t\t\t\t\t\t\tisOpen={isConfirmPopupOpen}\n\t\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\t\t\tidCard={selectedDelCard}\n\t\t\t\t\t\t></ConfirmDeletePopup>\n\n\t\t\t\t\t\t<EditAvatarPopup\n\t\t\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t\t\t></EditAvatarPopup>\n\n\t\t\t\t\t\t<EditProfilePopup\n\t\t\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t\t\t></EditProfilePopup>\n\n\t\t\t\t\t\t<AddPlacePopup\n\t\t\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t\t\t></AddPlacePopup>\n\n\t\t\t\t\t\t<ImagePopup\n\t\t\t\t\t\t\tcard={selectedCard}\n\t\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\t></ImagePopup>\n\t\t\t\t\t\t<InfoTooltip \n                        status={isAuthReqSusses}\n                        onClose={closeAllPopups}\n                        isOpen={isInfoTooltipOpen}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Footer/>\n\t\t\t\t</div>\n\t\t</div>\n\t\t</CurrentUserContext.Provider>\n\t);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}